<ul id="cart-list" class="products vertical-ticker unstyled product_list list cartCol Col" style="height:95vh;">
    <li ng-click="showFriendCart(arctr.global.user.USERID); UserDetail();$event.stopPropagation()" class="col-lg-12 drop-zone my_drop_box my_cart_box text-center" data-insertInline="true" data-drop="true" jqyoui-droppable="{multiple:true, onDrop:'dropInCart()',  onOut:'dropOutFromCart()'}">
        <div class="cart-price">

            <strong class="total-price" ng-model='cartTotalPrice' ng-show="$root.cartTotalPrice > 0">${{$root.cartTotalPrice | number : 2 }}</strong>
        </div>
        <div class="cart-items-thumbnail drop-zone my_drop_box">
            <ul class="product_item_thumbnail">
                <li ng-repeat="product in cart track by $index" data-drag="true" data-jqyoui-options="{}" ng-model="cart" jqyoui-draggable="{index: {{$index}},animate:false}" data-product-id="{{product.ProdBrandId}}" data-index="{{$index}}" data-type="cart">
                    <div class="">
                        <a data-ng-href="/products/{{product.ProdBrandId}}">
							<img src="{{product.img_loc}}" alt="">
						</a>
                    </div>
                </li>
                <!--ng-if="$index < 3" -->
                <li ng-repeat="items in $root.products['grpcart_products'] track by $index" data-drag="true" data-jqyoui-options="{}" ng-model="cart" jqyoui-draggable="{index: {{$index}},animate:false}" data-product-id="{{items.ProdBrandId}}" data-index="{{$index}}" data-product-grp-cart-id="{{items.groupCartProductId}}" data-type="grpcart_products">
                    <a data-ng-href="/products/{{items.ProdBrandId}}">
						<img src="{{UploadUrl}}{{items.img_loc}}" alt="">
					</a>
                </li>
            </ul>
        </div>
        <div class="product-in_cart-count" ng-show="(($root.products['grpcart_products']).length + (cart).length) > 3">
            <div class="counter">
                <span class="add-icon">+</span>
                <span class="total-count">
					    {{cartProductCount = ((arctr.products['grpcart_products']).length + (cart).length) - 3}}
				</span>
            </div>
        </div>
        <input type="hidden" class="zone-type" value="my_zone">
        <div class="friends-in-cart-container drop-zone my_drop_box text-center">
            <div class="friends-container">
                <div class="friends-container-inner" style="width:70%;margin:0 auto;height: 40px;overflow: hidden;">
                    <div class="friends-block" ng-repeat="friends in friendsCart track by $index" data-drag="true" data-jqyoui-options="{}" ng-model="friendsCart" jqyoui-draggable="{index: {{$index}},animate:false}" data-friend-id="{{friends.userid}}" data-type="friendsCart">
                        <div ng-click="showFriendCart(friends.userid); UserDetail()">
                            <img class="user-image" ng-class="{'online': friends.online == 1}" src="{{friends.img_loc}}" alt="" />
                        </div>
                    </div>
                    <div class="friends-block" ng-repeat="friends in $root.products['friendsInCart'] track by $index" data-drag="true" data-jqyoui-options="{}" ng-model="friendsCart" jqyoui-draggable="{index: {{$index}},animate:false}" data-friend-id="{{friends.userid}}" data-index="{{$index}}" data-type="grpcart_friends">
                        <div title="{{friends.GIVNAME+' '+friends.SURNAME}}" ng-click="showFriendCart(friends.userid); UserDetail()" class="user-image" ng-class="{'online': friends.online == 1}">
                            <img src="{{UploadUrl}}{{ getDefaultAvatar(friends.img_loc)}}" alt="" />
                        </div>
                    </div>
                </div>
                <div class="users-in_cart-count" ng-show="(($root.products['friendsInCart']).length + (friendsCart).length) > 4">
                    <div class="counter">
                        <span class="add-icon">+</span>
                        <span class="total-count">
							{{cartUserCount = (($root.products['friendsInCart']).length + (friendsCart).length) - 4}}
						</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="my-zone-detail">
            <a data-toggle="tooltip" title="" data-placement="top" class="btn btn-primary btn-checkout" ng-click="toggleCart();$event.stopPropagation()" data-original-title="1">Checkout >>
			</a>
        </div>
    </li>
    <li class="product_item post" ng-repeat="post in $root.twitterPosts track by $index">
        <div class="tweet head"><i ng-click="showPostModal('twitter')" class="fa fa-plus"></i>  Tweet</div>
        <div class="body">{{ post.text }}</div>
        <div class="options">
            <a title="{{ post.favorite_count}} Likes" ng-click="likeTweet($index)"><i class="fa fa-thumbs-up btn-success btn btn-xs"></i></a>
            <a title="Unlike" ng-click="dislikeTweet($index)"><i class="fa fa-thumbs-down btn-danger btn btn-xs"></i></a>
            <a title="Retweet" ng-click="retweet($index)"><i class="fa fa-reply btn-info btn btn-xs"></i></a>
            <a title="Delete" ng-click="deleteTweet($index)"><i class="fa fa-trash btn-warning btn btn-xs"></i></a>
        </div>
    </li>

    <li class="product_item post" ng-repeat="post in $root.tumblrPosts track by $index">
        <div class="tumblr head"><i ng-click="showPostModal('tumblr')" class="fa fa-plus"></i> Tumblr</div>
        <div class="body">
            <span ng-if="post.type == 'text'">{{ post.body | htmlToPlaintext }}</span>
            <img ng-if="post.type == 'photo'" src="{{ post.photos[0].original_size.url }}" />
            <video ng-if="post.type == 'video'" style="width:100%" controls>
                <source src="{{ post.video_url }}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="options">
            <a title="Delete" ng-click="delTumblrPost($index)"><i class="fa fa-trash btn-warning btn btn-xs"></i></a>
        </div>
    </li>
    <li class="product_item drag-to-cart" ng-repeat="product in $root.products['grpcart_products']" data-drag="true" data-jqyoui-options="{ helper: 'clone'}" ng-model="$root.products['grpcart_products']" jqyoui-draggable="{index: {{$index}}, animate: false, placeholder: 'keep'}" data-product-id="{{product.ProdBrandId}}">
        <div class="product_image">
            <a data-ng-href="/products/{{product.ProdBrandId}}">
				<img src="{{UploadUrl}}{{product.img_loc}}" alt="">
			</a>
        </div>
    </li>
    <!--div class="placeholder" ng-hide="hideMe()">Add your items here</div-->
</ul>


<!-- Social Post Modal -->

<div class="modal fade in social-mdl {{ postModal.modalClass }}" >
  <div class="modal-dialog modal-lg">
    <div class="modal-content col-xs-12">
        <ul class="nav nav-pills">
          <li ng-class="{'active':postModal.currentSocial == 'facebook'}"><a data-toggle="pill" href="#fb" ng-click="postModal.currentSocial = 'facebook'">Facebook</a></li>
          <li ng-class="{'active':postModal.currentSocial == 'twitter'}"><a data-toggle="pill" ng-click="postModal.currentSocial = 'twitter'">Twitter</a></li>
          <li ng-class="{'active':postModal.currentSocial == 'tumblr'}"><a data-toggle="pill" ng-click="postModal.currentSocial = 'tumblr'">Tumblr</a></li>
          <li ng-class="{'active':postModal.currentSocial == 'google'}"><a data-toggle="pill" ng-click="postModal.currentSocial = 'google'">Google</a></li>

          <span class="pull-right" ng-click="postModal.modalClass = 'hide-al'" title="Close"><i class="fa fa-remove"></i></span>
        </ul>

        <div class="tab-content">
          <div id="fb" ng-class="{'tab-pane fade in active':postModal.currentSocial == 'facebook', 'tab-pane fade':postModal.currentSocial != 'facebook'}">
            <h3>HOME</h3>
            <p>Some content.</p>
          </div>
          <div id="tw" ng-class="{'tab-pane fade in active':postModal.currentSocial == 'twitter', 'tab-pane fade':postModal.currentSocial != 'twitter'}">
            <div class="post-wrap col-xs-12">
                <form ng-submit="postTwitter($event)" class="tw_post_form" enctype="multipart/form-data" action="api/postMediaTweet" method="POST">
                    <div class=""><strong>Create Tweet :</strong>
                        <select ng-options="o as o for o in postTypes.tumblr" name="postype" ng-model="postModal.postype"></select></div>
                    <textarea placeholder="Wirte Message" name="tw_text" class="form-control" ng-model="data.tw_text" rows="3"></textarea>
                    <input type="file" name="twfile" ng-model="data.twfile" />
                    <input type="submit" class="btn btn-success btn-md" value="Send" />
                </form>
            </div>
          </div>
          <div id="tb" ng-class="{'tab-pane fade in active':postModal.currentSocial == 'tumblr', 'tab-pane fade':postModal.currentSocial != 'tumblr'}">
            <div class="post-wrap col-xs-12">
                <div class="">
                    <strong>Create Blog Post :</strong>
                    <select ng-options="o as o for o in postTypes.tumblr" ng-model="postModal.postype"></select>
                </div>
                <div class=" col-xs-12" ng-show="postModal.postype == 'Text'">
                    <textarea placeholder="Wirte Message" class="form-control" ng-model="data.tb_text" rows="3"></textarea>
                </div>
                <div class=" col-xs-12" ng-show="postModal.postype == 'Photo'">
                    <strong>Enter Image Url Or Drop Image: </strong>
                    <input type="text" class="form-control" ng-model="data.tb_src" placeholder="Paste Image HTTP Url"><br>
                    <div class="dropzone html5imageupload"
                        data-resize="true" 
                        data-width="1500" 
                        data-height="200"  
                        data-url="api/postTumblrPhoto" 
                        data-originalsize = "false"
                        data-resize="true"
                        data-canvas="false" 
                        style="width: 100%;;min-width: 100%;height: 50px">
                      <input type="file" name="thumb" />
                    </div>
                </div>
                <div class=" col-xs-12" ng-show="postModal.postype == 'Video'">
                    <strong>Enter Video Url Or Upload Video: </strong>
                    <input type="text" class="form-control" ng-model="data.tb_vid_src" ><br>
                      <input type="file" name="video_file" />
                </div>
                <input type="submit" class="btn btn-success btn-md" value="Send" ng-click="postTumblr()" />
            </div>
          </div>
          <div id="go" ng-class="{'tab-pane fade in active':postModal.currentSocial == 'google', 'tab-pane fade':postModal.currentSocial != 'google'}">
            <h3>Menu 2</h3>
            <p>Some content in menu 2.</p>
          </div>
        </div>
    </div>
  </div>
</div>

<script>
$(document).ready(function() {
    $('.html5imageupload').html5imageupload();
});
</script>